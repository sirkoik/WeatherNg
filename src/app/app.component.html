<app-overlay *ngIf="loading && !(geolocationPositionError$ | async)">
  <app-loading-spinner></app-loading-spinner>
</app-overlay>

<app-overlay *ngIf="showAbout$ | async" (click)="hideAboutBox()">
  <app-about></app-about>
</app-overlay>

<app-refresh-indicator *ngIf="!loading"></app-refresh-indicator>

<app-menu></app-menu>

<div class="error-bar" *ngIf="geolocationPositionError$ | async">
  Error: {{ (geolocationPositionError$ | async)!.message }}
</div>

<div *ngIf="!loading" class="weather">
  <!-- <div>{{ (location$ | async)!.coords.latitude }}</div> -->
  <div class="city">{{ (weather$ | async)?.cityName }}</div>
  <app-temperature
    [temperature]="(weather$ | async)!.temperature"
    [temperatureFeels]="(weather$ | async)!.temperatureFeels"
  ></app-temperature>
  <app-wind [wind]="(weather$ | async)!.wind"></app-wind>
  <app-humidity [humidity]="(weather$ | async)!.humidity"></app-humidity>
  <app-conditions
    [conditions]="(weather$ | async)!.weatherConditions"
  ></app-conditions>
  <app-uvi
    *ngIf="(weather$ | async)!.uvi > 0"
    [level]="(weather$ | async)!.uvi"
  ></app-uvi>
  <app-sun [sun]="(weather$ | async)!.sun"></app-sun>
  <app-moon></app-moon>
</div>
